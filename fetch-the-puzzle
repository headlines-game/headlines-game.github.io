const url = "https://headlines-game.github.io/testing.txt";
const xhr = new XMLHttpRequest();
xhr.open("GET", url, true);

xhr.onload = function () {
  if (xhr.status === 200) {
    const content = xhr.responseText;

    // Parse the JSON content into an array
    const jsonArray = JSON.parse(content);

    // Get the headline from the first value in the array
    const firstValue = jsonArray[0];
    const headline = firstValue.headline;

    // Assign the headline to the variable
    const myHeadline = runtimeScene.getVariables().get("headline");
    myHeadline.setString(headline);

    // Get the subheading from the second value in the array
    const secondValue = jsonArray[1];
    const subheading = secondValue.subheading;

    // Assign the subheading to the variable
    const mySubheading = runtimeScene.getVariables().get("subheading");
    mySubheading.setString(subheading);

    // Collect all unique letters from the headline
    const sanitizedString = headline.replace(/\s+/g, "").toUpperCase();
    // Remove duplicates and sort the characters
    const uniqueChars = [...new Set(sanitizedString)].sort();
    // Convert the array of unique characters back to a string
    const resultingString = uniqueChars.join("");
    console.log(resultingString); // Output: "ABCEFHLNORSTVXY"
    const myLetters = runtimeScene.getVariables().get("letters");
    myLetters.setString(resultingString);

    // Get the hint from the first object in the array
    const firstHint = jsonArray[0].hint;

    // Assign the hint to the variable
    const myHint = runtimeScene.getVariables().get("hint");
    myHint.setString(firstHint);
  }
};

xhr.send();
